(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1640],{1243:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2775:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},20001:(e,r,a)=>{"use strict";a.d(r,{b:()=>g});var t=a(12115);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}a(47650);var n=a(95155),i=t.forwardRef((e,r)=>{let{children:a,...s}=e,i=t.Children.toArray(a),o=i.find(d);if(o){let e=o.props.children,a=i.map(r=>r!==o?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,n.jsx)(l,{...s,ref:r,children:a})});i.displayName="Slot";var l=t.forwardRef((e,r)=>{let{children:a,...n}=e;if(t.isValidElement(a)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(a=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a);return t.cloneElement(a,{...function(e,r){let a={...r};for(let t in r){let s=e[t],n=r[t];/^on[A-Z]/.test(t)?s&&n?a[t]=(...e)=>{n(...e),s(...e)}:s&&(a[t]=s):"style"===t?a[t]={...s,...n}:"className"===t&&(a[t]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(n,a.props),ref:r?function(...e){return r=>{let a=!1,t=e.map(e=>{let t=s(e,r);return a||"function"!=typeof t||(a=!0),t});if(a)return()=>{for(let r=0;r<t.length;r++){let a=t[r];"function"==typeof a?a():s(e[r],null)}}}}(r,e):e})}return t.Children.count(a)>1?t.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function d(e){return t.isValidElement(e)&&e.type===o}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let a=t.forwardRef((e,a)=>{let{asChild:t,...s}=e,l=t?i:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...s,ref:a})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),x="horizontal",u=["horizontal","vertical"],m=t.forwardRef((e,r)=>{var a;let{decorative:t,orientation:s=x,...i}=e,l=(a=s,u.includes(a))?s:x;return(0,n.jsx)(c.div,{"data-orientation":l,...t?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...i,ref:r})});m.displayName="Separator";var g=m},25657:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},28833:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},29621:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},35169:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},76037:(e,r,a)=>{"use strict";a.d(r,{w:()=>i});var t=a(95155);a(12115);var s=a(20001),n=a(53999);function i(e){let{className:r,orientation:a="horizontal",decorative:i=!0,...l}=e;return(0,t.jsx)(s.b,{"data-slot":"separator",decorative:i,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...l})}},88145:(e,r,a)=>{"use strict";a.d(r,{E:()=>o});var t=a(95155);a(12115);var s=a(66634),n=a(74466),i=a(53999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:a,asChild:n=!1,...o}=e,d=n?s.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:a}),r),...o})}},88163:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>A});var t=a(95155),s=a(58989),n=a(41954),i=a(45657),l=a(97168),o=a(88145),d=a(88482),c=a(76037),x=a(19946);let u=(0,x.A)("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=a(35169),g=a(92138),p=a(71539),h=a(28833),y=a(29621);let b=(0,x.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var j=a(16785),f=a(25657),v=a(1243),N=a(2775),k=a(91788),w=a(6874),_=a.n(w);function A(){return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(s.Navbar,{}),(0,t.jsxs)("div",{className:"flex pt-16 md:pt-20",children:[(0,t.jsx)(n.DocsSidebarWrapper,{}),(0,t.jsxs)("main",{className:"flex-1 min-w-0",children:[(0,t.jsx)(i.AnimatedSection,{animation:"fade-in",children:(0,t.jsx)("section",{className:"relative py-12 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[(0,t.jsx)(_(),{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation Informatique"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)("span",{children:"Exploration Autonome Nav2"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 flex items-center justify-center",children:(0,t.jsx)(u,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold",children:"Documentation du script d'exploration autonome pour Nav2"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Strat\xe9gie d'exploration par fronti\xe8res pour cartographier un environnement inconnu."})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(o.E,{variant:"secondary",children:"ROS 2"}),(0,t.jsx)(o.E,{variant:"outline",children:"Nav2"}),(0,t.jsx)(o.E,{variant:"outline",children:"Python"}),(0,t.jsx)(o.E,{variant:"outline",children:"SLAM"})]})]})})})}),(0,t.jsx)("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-16 md:top-20 z-30",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 max-w-4xl mx-auto",children:[(0,t.jsx)(_(),{href:"/docs/semaine-3/it/algorithme-pathfinding",children:(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Pathfinding"]})}),(0,t.jsx)(_(),{href:"/docs/semaine-3/it",children:(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",children:["IT Semaine 3",(0,t.jsx)(g.A,{className:"w-4 h-4 ml-2"})]})})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(p.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),"But du script"]})}),(0,t.jsx)(d.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:[(0,t.jsxs)("p",{children:["Ce script impl\xe9mente une strat\xe9gie ",(0,t.jsx)("strong",{children:"d'exploration autonome par fronti\xe8res"})," pour un robot utilisant Nav2. Son objectif est de cartographier un environnement inconnu (comme un labyrinthe) de mani\xe8re enti\xe8rement automatique."]}),(0,t.jsx)("p",{className:"mt-4",children:"Le principe est le suivant :"}),(0,t.jsxs)("ol",{className:"list-decimal pl-5 mt-2 space-y-2",children:[(0,t.jsx)("li",{children:"Le robot analyse en permanence la carte construite par un algorithme de SLAM."}),(0,t.jsxs)("li",{children:["Il identifie les ",(0,t.jsx)("strong",{children:'"fronti\xe8res"'})," : des zones connues et accessibles situ\xe9es juste \xe0 c\xf4t\xe9 de zones encore inconnues."]}),(0,t.jsx)("li",{children:"Il choisit la fronti\xe8re la plus prometteuse (ici, la plus proche) comme nouvel objectif."}),(0,t.jsx)("li",{children:"Il utilise Nav2 pour naviguer jusqu'\xe0 cet objectif, r\xe9v\xe9lant ainsi une nouvelle partie de la carte."}),(0,t.jsx)("li",{children:"Le processus se r\xe9p\xe8te jusqu'\xe0 ce qu'il n'y ait plus de fronti\xe8res \xe0 explorer, signifiant que la carte est compl\xe8te."})]})]})})]})}),(0,t.jsx)(c.w,{className:"border-gray-200 dark:border-gray-700"}),(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",delay:100,children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),"Comment utiliser ce script ?"]})}),(0,t.jsx)(d.Wu,{className:"p-6",children:(0,t.jsxs)("ol",{className:"list-decimal pl-5 space-y-4 text-gray-700 dark:text-gray-300",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Lancement de la simulation compl\xe8te"})," : D\xe9marrez votre environnement de simulation (Gazebo), le robot, le nœud SLAM (",(0,t.jsx)("code",{children:"slam_toolbox"}),") et la pile de navigation Nav2.",(0,t.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 my-2 overflow-x-auto relative border border-gray-700",children:[(0,t.jsx)("span",{className:"absolute top-2 right-2 text-xs text-gray-400",children:"bash"}),(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"# Exemple de commande de lancement\nros2 launch mon_robot_config simulation_avec_nav2.launch.py"})})]})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Lancement du script d'exploration"})," : Dans un nouveau terminal (apr\xe8s avoir sourc\xe9 votre workspace), lancez ce nœud.",(0,t.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 my-2 overflow-x-auto relative border border-gray-700",children:[(0,t.jsx)("span",{className:"absolute top-2 right-2 text-xs text-gray-400",children:"bash"}),(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"ros2 run mon_paquet_exploration nom_de_l_executable"})})]})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Observation"})," : Dans RViz, vous devriez voir le robot recevoir des objectifs de navigation (fl\xe8ches vertes) et se d\xe9placer de mani\xe8re autonome pour explorer la carte. La carte se compl\xe9tera progressivement."]})]})})]})}),(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",delay:100,children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(y.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),"Explication d\xe9taill\xe9e du code"]})}),(0,t.jsxs)(d.Wu,{className:"space-y-8 p-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:["1. ",(0,t.jsx)("strong",{children:"Initialisation (`__init__`)"})]}),(0,t.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 mb-4 overflow-x-auto relative border border-gray-700",children:(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"class Nav2AutoExplorerImproved(Node):\n    def __init__(self):\n        super().__init__('nav2_auto_explorer_improved')\n        # ... D\xe9finition des publishers, subscribers, et du TF listener ...\n        self.timer = self.create_timer(self.exploration_timer_period, self.explore)"})})}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"R\xf4les des composants :"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{children:"goal_pub"})," : Pour envoyer des objectifs de navigation (`PoseStamped`) \xe0 Nav2."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{children:"map_sub"})," : Pour recevoir la carte (`OccupancyGrid`) en temps r\xe9el depuis SLAM."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("code",{children:"tf_buffer"})," et ",(0,t.jsx)("code",{children:"tf_listener"})," : Outil essentiel pour obtenir la position exacte du robot."]})]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mt-4 mb-2",children:"Le cœur du rythme :"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("code",{children:"self.timer"})," : C'est le m\xe9tronome du script. Il d\xe9clenche la fonction principale ",(0,t.jsx)("code",{children:"explore"})," \xe0 intervalle r\xe9gulier."]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,t.jsx)(b,{className:"w-4 h-4"})," 2. ",(0,t.jsxs)("strong",{children:[(0,t.jsx)("code",{children:"find_frontier_points"})," (Le D\xe9tecteur de Fronti\xe8res)"]})]}),(0,t.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 mb-4 overflow-x-auto relative border border-gray-700",children:(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"def find_frontier_points(self):\n    # ...\n    # Une fronti\xe8re est une cellule libre (0) adjacente \xe0 une cellule inconnue (-1)\n    if grid[y, x] == 0:  # C'est une cellule libre\n        # ...\n        if grid[y + dy, x + dx] == -1: # Voisin est inconnu\n            is_frontier = True\n            # ..."})})}),(0,t.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Principe"})," : La fonction parcourt chaque pixel de la carte."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Condition"})," : Si un pixel est ",(0,t.jsx)("strong",{children:"libre"})," (valeur 0) ET qu'au moins un de ses 8 voisins est ",(0,t.jsx)("strong",{children:"inconnu"}),' (valeur -1), alors ce pixel est une "fronti\xe8re".']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"R\xe9sultat"})," : La fonction retourne une liste de toutes les coordonn\xe9es `(x, y)` des fronti\xe8res trouv\xe9es."]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4"})," 3. ",(0,t.jsxs)("strong",{children:[(0,t.jsx)("code",{children:"select_best_frontier"})," (Le Strat\xe8ge)"]})]}),(0,t.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 mb-4 overflow-x-auto relative border border-gray-700",children:(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"def select_best_frontier(self, frontiers, robot_pose):\n    # ...\n    # Calcule la distance euclidienne\n    dist = math.sqrt((robot_pose.x - wx)**2 + (robot_pose.y - wy)**2)\n    if dist < min_dist:\n        min_dist = dist\n        best_frontier = (wx, wy)\n    # ..."})})}),(0,t.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Strat\xe9gie"})," : Choisir la fronti\xe8re la plus proche du robot."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Logique"})," : Pour chaque fronti\xe8re, elle convertit les coordonn\xe9es, calcule la distance et retient la plus petite."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Avantage"})," : Minimise les longs trajets et encourage une exploration m\xe9thodique des zones adjacentes."]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"})," 4. ",(0,t.jsxs)("strong",{children:[(0,t.jsx)("code",{children:"explore"})," (Le Chef d'Orchestre)"]})]}),(0,t.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 mb-4 overflow-x-auto relative border border-gray-700",children:(0,t.jsx)("pre",{className:"text-sm text-gray-100",children:(0,t.jsx)("code",{children:"def explore(self):\n    # 1. Obtenir la position actuelle du robot\n    robot_pose = self.get_robot_pose()\n    # 2. Trouver tous les points fronti\xe8res sur la carte\n    frontiers = self.find_frontier_points()\n    # ...\n    # 3. S\xe9lectionner la meilleure fronti\xe8re (la plus proche)\n    goal_pos = self.select_best_frontier(frontiers, robot_pose)\n    # 4. Envoyer le but \xe0 Nav2\n    # ..."})})}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Le d\xe9roulement est une s\xe9quence logique simple : ",(0,t.jsx)("strong",{children:"O\xf9 suis-je ? -> O\xf9 puis-je aller ? -> Quelle est la meilleure option ? -> Allons-y !"})]})]})]})]})}),(0,t.jsx)(c.w,{className:"border-gray-200 dark:border-gray-700"}),(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",delay:100,children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(v.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),'Analyse du Probl\xe8me : "Pourquoi le robot se coince ?"']})}),(0,t.jsxs)(d.Wu,{className:"p-6 space-y-4",children:[(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:'Votre observation est excellente et pointe vers une limitation classique de cette approche simple "fire-and-forget" (tire et oublie).'}),(0,t.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Le probl\xe8me fondamental est que le script n'a pas de \"m\xe9moire\" de l'objectif en cours ni de retour sur l'\xe9tat de la navigation de Nav2."}),(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Voici le sc\xe9nario qui se produit :"}),(0,t.jsxs)("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Situation"})," : Le robot a d\xe9j\xe0 cartographi\xe9 une zone. La seule fronti\xe8re restante est loin."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"D\xe9cision"})," : Le script trouve cette fronti\xe8re lointaine et envoie un objectif \xe0 Nav2."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Navigation"})," : Nav2 commence son travail, ce qui peut prendre du temps."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Le Timer se d\xe9clenche \xe0 nouveau"})," : Apr\xe8s 10 secondes, ",(0,t.jsx)("code",{children:"explore"})," est rappel\xe9e."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Amn\xe9sie"})," : Le script ne sait pas que Nav2 est d\xe9j\xe0 occup\xe9. Il refait l'analyse et trouve la m\xeame fronti\xe8re."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Conflit"})," : Le script envoie un nouvel objectif au m\xeame endroit, ce qui annule et remplace la t\xe2che pr\xe9c\xe9dente."]})]}),(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-sm",children:(0,t.jsxs)("p",{className:"text-red-800 dark:text-red-300",children:[(0,t.jsx)("strong",{children:'Le cas critique (le "blocage") :'})," Si Nav2 n'arrive pas \xe0 atteindre la destination (robot physiquement coinc\xe9), il entre en mode de r\xe9cup\xe9ration. Pendant ce temps, notre script, ignorant l'\xe9chec, continue de lui envoyer le m\xeame ordre, le coin\xe7ant dans une boucle d'\xe9chec sans fin."]})})]})]})}),(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",delay:100,children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),"Pistes d'Am\xe9lioration (Comment r\xe9soudre le probl\xe8me)"]})}),(0,t.jsxs)(d.Wu,{className:"p-6 space-y-6",children:[(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:'Pour rendre le script plus intelligent, il doit savoir si Nav2 est "occup\xe9".'}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:'Solution 1 : Simple (avec un "drapeau")'}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["On peut ajouter un simple drapeau ",(0,t.jsx)("code",{children:"self.is_navigating"}),". Le probl\xe8me est de savoir quand le remettre \xe0 ",(0,t.jsx)("code",{children:"False"}),", car on ne sait pas quand Nav2 a termin\xe9 ou \xe9chou\xe9."]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:'Solution 2 : Robuste (Utiliser un "Action Client" ROS 2)'}),(0,t.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["La bonne mani\xe8re de faire avec Nav2 est d'utiliser son ",(0,t.jsx)("strong",{children:"Serveur d'Action"}),", qui s'appelle ",(0,t.jsx)("code",{children:"/navigate_to_pose"}),'. Un "Action" est comme un service mais pour des t\xe2ches longues : il donne un retour continu et un r\xe9sultat final (succ\xe8s, \xe9chec, annul\xe9).']}),(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:"La logique serait :"}),(0,t.jsxs)("ol",{className:"list-decimal pl-5 mt-2 space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("li",{children:["Dans ",(0,t.jsx)("code",{children:"explore"}),", si aucune action n'est en cours : trouver une fronti\xe8re, envoyer le but via le client d'action, et enregistrer une fonction de \"callback\"."]}),(0,t.jsx)("li",{children:"Dans cette fonction de callback (appel\xe9e quand l'action se termine) : analyser le r\xe9sultat (succ\xe8s/\xe9chec) et relancer une nouvelle exploration via le timer."})]}),(0,t.jsx)("p",{className:"mt-4 text-sm bg-gray-50 dark:bg-gray-900/30 border border-gray-200 dark:border-gray-700 rounded p-3",children:"Cette approche est plus complexe \xe0 coder mais elle est la seule qui soit vraiment robuste pour interagir avec des syst\xe8mes comme Nav2."})]})]})]})}),(0,t.jsx)(i.AnimatedSection,{animation:"fade-up",delay:100,children:(0,t.jsxs)(d.Zp,{className:"border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(d.aR,{className:"bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[(0,t.jsx)(k.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),"T\xe9l\xe9charger ce script"]})}),(0,t.jsx)(d.Wu,{className:"p-6",children:(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsxs)(_(),{href:"Documentation/semaine-3/IT/Cartographie_Nav2.md",children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"T\xe9l\xe9charger le fichier Cartographie_Nav2.md"]})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-8 border-t",children:[(0,t.jsx)(_(),{href:"/docs/semaine-3/it/algorithme-pathfinding",children:(0,t.jsxs)(l.$,{variant:"outline",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Pathfinding"]})}),(0,t.jsx)(_(),{href:"/docs/semaine-3/it",children:(0,t.jsxs)(l.$,{children:["IT Semaine 3",(0,t.jsx)(g.A,{className:"w-4 h-4 ml-2"})]})})]})]})})]})]})]})}},88482:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i});var t=a(95155);a(12115);var s=a(53999);function n(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),suppressHydrationWarning:!0,...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...a})}function l(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",r),...a})}function o(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",r),...a})}function d(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),suppressHydrationWarning:!0,...a})}},91788:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},92138:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(19946).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},98840:(e,r,a)=>{Promise.resolve().then(a.bind(a,88163))}},e=>{var r=r=>e(e.s=r);e.O(0,[3775,9567,2981,1954,8441,1684,7358],()=>r(98840)),_N_E=e.O()}]);